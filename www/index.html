<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no" />
    <title></title>

    <link rel="manifest" href="manifest.json">

    <!-- un-comment this code to enable service worker
    <script>
      if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register('service-worker.js')
          .then(() => console.log('service worker installed'))
          .catch(err => console.log('Error', err));
      }
    </script>-->

    <link href="lib/ionic/css/ionic.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
    <link href="css/angular-material.css" rel="stylesheet" />

    <!-- IF using Sass (run gulp sass first), then uncomment below and remove the CSS includes above
    <link href="css/ionic.app.css" rel="stylesheet">
    -->

    <!-- ionic/angularjs js -->
    <script src="lib/ionic/js/ionic.bundle.js"></script>
    <script src="lib/ionic/js/angular/angular-aria.js"></script>
    <script src="lib/ionic/js/angular/angular-material.js"></script>
    <script src="lib/underscore/underscore-min.js"></script>
    <script src="lib/angular-simple-logger/angular-simple-logger.light.min.js"></script>
    <script src="lib/angular-google-maps/angular-google-maps.min.js"></script>

    <!-- Firebase & AngularFire -->
    <script src="lib/firebase/firebase.js"></script>
    <script src="lib/angularfire/dist/angularfire.min.js"></script>

    <!-- cordova script (this will be a 404 during development) -->
    <script src="js/ng-cordova.min.js"></script>   
    <script src="cordova.js"></script>

    <!-- your app's js -->
    <script src="js/app.js"></script>
    <script src="js/controllers.js"></script>
    <script src="js/services.js"></script>
  </head>
<body ng-cloak layout="column" ng-app="starter" ng-controller="MainCtrl">

    <md-toolbar layout="row" class="md-toolbar-tools">
        <md-input-container>
            <input ng-model="data.name" ng-change="updateUserName()">
        </md-input-container>
        <md-switch ng-model="data.toggle" aria-label="Switch 2" ng-true-value="'ON'" ng-false-value="'OFF'" class="md-warn" ng-change="toggleUser()">
            {{ data.toggle || 'OFF'}}
        </md-switch>
    </md-toolbar>

    <div flex layout="row">

        <md-content flex id="content">
            <ui-gmap-google-map center='map.center' zoom='map.zoom'>
                <ui-gmap-marker 
                    ng-repeat="user in usersList" 
                    coords="user.coords" 
                    options="{'icon': this.getPinUrl(user.color)}" 
                    idkey="$index"
                >
                    <ui-gmap-window show="true" closeClick="closeClick()">
                        <div>{{user.name}}</div>
                    </ui-gmap-window>
                </ui-gmap-marker>
            </ui-gmap-google-map>
        </md-content>

    </div>

</body>
</html>
